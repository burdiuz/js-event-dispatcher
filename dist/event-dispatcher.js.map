{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap db93486fe7f834e90e94","webpack:///./source/index.js","webpack:///./source/EventDispatcher.js"],"names":["Event","hasOwnProp","target","name","Object","prototype","hasOwnProperty","call","type","data","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","event","listener","augmentEvent","length","clearEvent","eventObject","stopPropagation","EventListeners","_listeners","_runners","removeRunner","runner","splice","indexOf","eventType","priorityOpt","priority","parseInt","getPrioritiesByKey","key","String","value","handler","handlers","createList","push","result","priorities","list","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","a","b","createRunner","run","EventDispatcher","eventPreprocessor","noInit","initialize","_eventPreprocessor","add","has","remove","removeAll","getEvent","eventOrType","optionalData","isObject"],"mappings":"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","file":"event-dispatcher.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap db93486fe7f834e90e94","import EventDispatcher, { Event } from './EventDispatcher';\n\nexport default EventDispatcher;\nexport { Event };\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\n * Created by Oleg Galaburda on 09.02.16.\n * @flow\n */\n\nimport type {\n  EventObject,\n  EventType,\n  EventListener,\n  EventProcessor,\n  IEvent,\n  IEventDispatcher,\n} from './TypeDefinition';\n\nconst hasOwnProp = (target: any, name: string): boolean => (\n  Object.prototype.hasOwnProperty.call(target, name)\n);\n\nexport class Event implements IEvent {\n\n  type: string;\n  data: mixed;\n  defaultPrevented: boolean;\n  stopPropagation: ?() => void;\n  stopImmediatePropagation: ?() => void;\n\n  constructor(type: string, data: mixed) {\n    this.type = type;\n    this.data = data || null;\n    this.defaultPrevented = false;\n  }\n\n  toJSON(): EventObject {\n    return { type: this.type, data: this.data };\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.defaultPrevented;\n  }\n\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n}\n\ntype EventPrioritiesCollection = {\n  [priority: string]: Array<EventListener>;\n}\n\ntype EventTypesCollection = {\n  [eventType: string]: EventPrioritiesCollection;\n}\n\nclass ListenersRunner {\n  index: number = -1;\n  immediatelyStopped: boolean = false;\n  listeners: EventListener[];\n  onStopped: (runner: ListenersRunner) => void;\n  onComplete: (runner: ListenersRunner) => void;\n\n  constructor(\n    listeners: EventListener[],\n    onStopped: (runner: ListenersRunner) => void,\n    onComplete: (runner: ListenersRunner) => void,\n  ) {\n    this.listeners = listeners;\n    this.onStopped = onStopped;\n    this.onComplete = onComplete;\n  }\n\n  stopImmediatePropagation = () => {\n    this.immediatelyStopped = true;\n  };\n\n  run(event: EventObject, target: any) {\n    let listener: EventListener;\n    const { listeners } = this;\n    this.augmentEvent(event);\n    // TODO this has to be handled in separate object ListenersRunner that should be\n    // created for each call() call and asked for index validation on each listener remove.\n    for (this.index = 0; this.index < listeners.length; this.index++) {\n      if (this.immediatelyStopped) break;\n      listener = listeners[this.index];\n      listener.call(target, event);\n    }\n    this.clearEvent(event);\n    this.onComplete(this);\n  }\n\n  augmentEvent(eventObject: EventObject) {\n    const event: EventObject = eventObject;\n    event.stopPropagation = this.onStopped;\n    event.stopImmediatePropagation = this.stopImmediatePropagation;\n  }\n\n  /* eslint class-methods-use-this: \"off\" */\n  clearEvent(eventObject: EventObject) {\n    const event: EventObject = eventObject;\n    delete event.stopPropagation;\n    delete event.stopImmediatePropagation;\n  }\n\n  listenerRemoved(listeners: EventListener[], index: number) {\n    if (listeners === this.listeners && index <= this.index) {\n      this.index--;\n    }\n  }\n}\n\nclass EventListeners {\n  /**\n   * key - event Type\n   * value - hash of priorities\n   *    key - priority\n   *    value - list of handlers\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\n   * @private\n   */\n  _listeners: EventTypesCollection = {};\n  _runners: ListenersRunner[] = [];\n\n  createList(eventType: string, priorityOpt?: mixed): Array<EventListener> {\n    const priority: number = parseInt(priorityOpt, 10);\n    const target: EventPrioritiesCollection = this.getPrioritiesByKey(eventType);\n    const key: string = String(priority);\n    let value: Array<EventListener>;\n    if (hasOwnProp(target, key)) {\n      value = target[key];\n    } else {\n      value = [];\n      target[key] = value;\n    }\n    return value;\n  }\n\n  getPrioritiesByKey(key: string): EventPrioritiesCollection {\n    let value: EventPrioritiesCollection;\n    if (hasOwnProp(this._listeners, key)) {\n      value = this._listeners[key];\n    } else {\n      value = {};\n      this._listeners[key] = value;\n    }\n    return value;\n  }\n\n  add(eventType: string, handler: EventListener, priority: number) {\n    const handlers = this.createList(eventType, priority);\n    if (handlers.indexOf(handler) < 0) {\n      handlers.push(handler);\n    }\n  }\n\n  has(eventType: string): boolean {\n    let priority: string;\n    let result = false;\n    const priorities = this.getPrioritiesByKey(eventType);\n    if (priorities) {\n      for (priority in priorities) {\n        if (hasOwnProp(priorities, priority)) {\n          result = true;\n          break;\n        }\n      }\n    }\n    return result;\n  }\n\n  remove(eventType: string, handler) {\n    const priorities = this.getPrioritiesByKey(eventType);\n    if (priorities) {\n      const list = Object.getOwnPropertyNames(priorities);\n      const { length } = list;\n      for (let index = 0; index < length; index++) {\n        const priority = list[index];\n        const handlers = priorities[priority];\n        const handlerIndex = handlers.indexOf(handler);\n        if (handlerIndex >= 0) {\n          handlers.splice(handlerIndex, 1);\n          if (!handlers.length) {\n            delete priorities[priority];\n          }\n          this._runners.forEach((runner) => {\n            runner.listenerRemoved(handlers, handlerIndex);\n          });\n        }\n      }\n    }\n  }\n\n  removeAll(eventType: string) {\n    delete this._listeners[eventType];\n  }\n\n  createRunner(handlers, onStopped) {\n    const runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n    this._runners.push(runner);\n    return runner;\n  }\n\n  removeRunner = (runner) => {\n    this._runners.splice(this._runners.indexOf(runner), 1);\n  };\n\n  call(event: EventObject, target: any) {\n    const priorities = this.getPrioritiesByKey(event.type);\n    let stopped = false;\n    const stopPropagation = () => {\n      stopped = true;\n    };\n    if (priorities) {\n      // getOwnPropertyNames() or keys()?\n      const list: string[] = Object\n        .getOwnPropertyNames(priorities)\n        .sort((a: any, b: any) => (a - b));\n      const { length } = list;\n      for (let index = 0; index < length; index++) {\n        if (stopped) break;\n        const handlers: Array<EventListener> = priorities[list[index]];\n        // in case if all handlers of priority were removed while event\n        // was dispatched and handlers become undefined.\n        if (handlers) {\n          const runner = this.createRunner(handlers, stopPropagation);\n          runner.run(event, target);\n          if (runner.immediatelyStopped) break;\n        }\n      }\n    }\n  }\n}\n\nclass EventDispatcher implements IEventDispatcher {\n\n  _listeners: EventListeners;\n  _eventPreprocessor: EventProcessor;\n\n  constructor(eventPreprocessor: EventProcessor, noInit: boolean = false) {\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\n   * @private\n   */\n  initialize(eventPreprocessor: EventProcessor) {\n    this._eventPreprocessor = eventPreprocessor;\n    this._listeners = new EventListeners();\n  }\n\n  addEventListener(eventType: string, listener: EventListener, priority: number = 0) {\n    this._listeners.add(eventType, listener, -priority || 0);\n  }\n\n  hasEventListener(eventType: string) {\n    return this._listeners.has(eventType);\n  }\n\n  removeEventListener(eventType: string, listener: EventListener) {\n    this._listeners.remove(eventType, listener);\n  }\n\n  removeAllEventListeners(eventType: string) {\n    this._listeners.removeAll(eventType);\n  }\n\n  dispatchEvent(event: EventType, data: mixed) {\n    let eventObject = EventDispatcher.getEvent(event, data);\n    if (this._eventPreprocessor) {\n      eventObject = this._eventPreprocessor.call(this, eventObject);\n    }\n    this._listeners.call(eventObject);\n  }\n\n  static isObject(value: mixed) {\n    return (typeof value === 'object') && (value !== null);\n  }\n\n  static getEvent(eventOrType: EventType, optionalData: mixed): EventObject {\n    let event = eventOrType;\n    if (!EventDispatcher.isObject(eventOrType)) {\n      event = new EventDispatcher.Event(String(eventOrType), optionalData);\n    }\n    return (event: any);\n  }\n\n  static create(eventPreprocessor: EventProcessor) {\n    return new EventDispatcher(eventPreprocessor);\n  }\n\n  /* eslint no-undef: \"off\" */\n  static Event: Class<Event>;\n}\n\nEventDispatcher.Event = Event;\n\nexport default EventDispatcher;\n\n\n\n// WEBPACK FOOTER //\n// ./source/EventDispatcher.js"],"sourceRoot":""}