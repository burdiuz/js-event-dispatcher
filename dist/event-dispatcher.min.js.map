{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///event-dispatcher.min.js","webpack:///webpack/bootstrap 18f0bf82936261a2f5b2","webpack:///./source/EventDispatcher.js","webpack:///./source/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Event","type","data","defaultPrevented","stopPropagation","stopImmediatePropagation","EventListeners","_listeners","eventType","priority","getListenersListByKey","parseInt","getPrioritiesByKey","String","handler","handlers","createList","indexOf","push","result","priorities","list","getOwnPropertyNames","index","handlerIndex","splice","event","_stopped","_immediatelyStopped","sort","a","b","handlersLength","handlersIndex","EventDispatcher","eventPreprocessor","noInit","arguments","undefined","initialize","_eventPreprocessor","listener","add","has","remove","removeAll","eventObject","getEvent","eventOrType","optionalData","isObject","default","_interopRequireDefault","_EventDispatcher","_EventDispatcher2"],"mappings":"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","file":"event-dispatcher.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by Oleg Galaburda on 09.02.16.\r\n * \r\n */\n\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Event = exports.Event = function () {\n  function Event(type, data) {\n    _classCallCheck(this, Event);\n\n    this.type = type;\n    this.data = data || null;\n    this.defaultPrevented = false;\n    this.stopPropagation;\n    this.stopImmediatePropagation;\n  }\n\n  _createClass(Event, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return { type: this.type, data: this.data };\n    }\n  }, {\n    key: 'isDefaultPrevented',\n    value: function isDefaultPrevented() {\n      return this.defaultPrevented;\n    }\n  }, {\n    key: 'preventDefault',\n    value: function preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }]);\n\n  return Event;\n}();\n\nvar EventListeners = function () {\n  function EventListeners() {\n    _classCallCheck(this, EventListeners);\n\n    /**\r\n     * key - event Type\r\n     * value - hash of priorities\r\n     *    key - priority\r\n     *    value - list of handlers\r\n     * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n     * @private\r\n     */\n    this._listeners = {};\n  }\n\n  _createClass(EventListeners, [{\n    key: 'createList',\n    value: function createList(eventType, priority) {\n      return this.getListenersListByKey(parseInt(priority), this.getPrioritiesByKey(eventType));\n    }\n  }, {\n    key: 'getPrioritiesByKey',\n    value: function getPrioritiesByKey(key) {\n      var value = void 0;\n      if (this._listeners.hasOwnProperty(key)) {\n        value = this._listeners[key];\n      } else {\n        value = this._listeners[key] = {};\n      }\n      return value;\n    }\n  }, {\n    key: 'getListenersListByKey',\n    value: function getListenersListByKey(priority, target) {\n      var key = String(priority);\n      var value = void 0;\n      if (target.hasOwnProperty(key)) {\n        value = target[key];\n      } else {\n        value = target[key] = [];\n      }\n      return value;\n    }\n  }, {\n    key: 'add',\n    value: function add(eventType, handler, priority) {\n      var handlers = this.createList(eventType, priority);\n      if (handlers.indexOf(handler) < 0) {\n        handlers.push(handler);\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(eventType) {\n      var result = false;\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        for (var _priority in priorities) {\n          if (priorities.hasOwnProperty(_priority)) {\n            result = true;\n            break;\n          }\n        }\n      }\n      return result;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(eventType, handler) {\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        var list = Object.getOwnPropertyNames(priorities);\n        var length = list.length;\n        for (var index = 0; index < length; index++) {\n          var _priority2 = list[index];\n          var handlers = priorities[_priority2];\n          var handlerIndex = handlers.indexOf(handler);\n          if (handlerIndex >= 0) {\n            handlers.splice(handlerIndex, 1);\n            if (!handlers.length) {\n              delete priorities[_priority2];\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll(eventType) {\n      delete this._listeners[eventType];\n    }\n  }, {\n    key: 'call',\n    value: function call(event, target) {\n      var _stopped = false;\n      var _immediatelyStopped = false;\n      var stopPropagation = function stopPropagation() {\n        _stopped = true;\n      };\n      var stopImmediatePropagation = function stopImmediatePropagation() {\n        _immediatelyStopped = true;\n      };\n      event.stopPropagation = stopPropagation;\n      event.stopImmediatePropagation = stopImmediatePropagation;\n      var priorities = this.getPrioritiesByKey(event.type, this._listeners);\n      if (priorities) {\n        // getOwnPropertyNames() or keys()?\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n          return a - b;\n        });\n        var length = list.length;\n        for (var index = 0; index < length; index++) {\n          if (_stopped) break;\n          var handlers = priorities[list[index]];\n          var handlersLength = handlers.length;\n          for (var handlersIndex = 0; handlersIndex < handlersLength; handlersIndex++) {\n            if (_immediatelyStopped) break;\n            var handler = handlers[handlersIndex];\n            // FIXME why \"handler\" sometimes undefined?\n            handler && handler.call(target, event);\n          }\n        }\n      }\n      delete event.stopPropagation;\n      delete event.stopImmediatePropagation;\n    }\n  }]);\n\n  return EventListeners;\n}();\n\nvar EventDispatcher = exports.EventDispatcher = function () {\n  function EventDispatcher(eventPreprocessor) {\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, EventDispatcher);\n\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\r\n   * @private\r\n   */\n\n\n  _createClass(EventDispatcher, [{\n    key: 'initialize',\n    value: function initialize(eventPreprocessor) {\n      this._eventPreprocessor = eventPreprocessor;\n      this._listeners = new EventListeners();\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(eventType, listener) {\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      this._listeners.add(eventType, listener, -priority || 0);\n    }\n  }, {\n    key: 'hasEventListener',\n    value: function hasEventListener(eventType) {\n      return this._listeners.has(eventType);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(eventType, listener) {\n      this._listeners.remove(eventType, listener);\n    }\n  }, {\n    key: 'removeAllEventListeners',\n    value: function removeAllEventListeners(eventType) {\n      this._listeners.removeAll(eventType);\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(event, data) {\n      var eventObject = EventDispatcher.getEvent(event, data);\n      if (this._eventPreprocessor) {\n        eventObject = this._eventPreprocessor.call(this, eventObject);\n      }\n      this._listeners.call(eventObject);\n    }\n  }], [{\n    key: 'isObject',\n    value: function isObject(value) {\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n    }\n  }, {\n    key: 'getEvent',\n    value: function getEvent(eventOrType, optionalData) {\n      var event = eventOrType;\n      if (!EventDispatcher.isObject(eventOrType)) {\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\n      }\n      return event;\n    }\n  }, {\n    key: 'create',\n    value: function create(eventPreprocessor) {\n      return new EventDispatcher(eventPreprocessor);\n    }\n  }]);\n\n  return EventDispatcher;\n}();\n\nEventDispatcher.Event = Event;\n\nexports.default = EventDispatcher;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Event = exports.EventDispatcher = undefined;\n\nvar _EventDispatcher = __webpack_require__(0);\n\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _EventDispatcher2.default;\nexports.EventDispatcher = _EventDispatcher2.default;\nexports.Event = _EventDispatcher.Event;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// event-dispatcher.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 18f0bf82936261a2f5b2","/**\r\n * Created by Oleg Galaburda on 09.02.16.\r\n * @flow\r\n */\r\n\r\n'use strict';\r\n\r\nimport type { EventObject, EventType, EventListener, EventProcessor } from './TypeDefinition';\r\n\r\nexport class Event {\r\n\r\n  type: string;\r\n  data: mixed;\r\n  defaultPrevented: boolean;\r\n  stopPropagation: ?Function;\r\n  stopImmediatePropagation: ?Function;\r\n\r\n  constructor(type: string, data: mixed) {\r\n    this.type = type;\r\n    this.data = data || null;\r\n    this.defaultPrevented = false;\r\n    this.stopPropagation;\r\n    this.stopImmediatePropagation;\r\n  }\r\n\r\n  toJSON(): EventObject {\r\n    return { type: this.type, data: this.data };\r\n  }\r\n\r\n  isDefaultPrevented(): boolean {\r\n    return this.defaultPrevented;\r\n  }\r\n\r\n  preventDefault() {\r\n    this.defaultPrevented = true;\r\n  }\r\n}\r\n\r\ntype EventTypesCollection = {\r\n  [eventType:string]: EventPrioritiesCollection;\r\n}\r\n\r\ntype EventPrioritiesCollection = {\r\n  [priority:string]: Array<EventListener>;\r\n}\r\n\r\nclass EventListeners {\r\n\r\n  _listeners: EventTypesCollection;\r\n\r\n  constructor() {\r\n    /**\r\n     * key - event Type\r\n     * value - hash of priorities\r\n     *    key - priority\r\n     *    value - list of handlers\r\n     * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n  }\r\n\r\n  createList(eventType: string, priority: number): Array<EventListener> {\r\n    return this.getListenersListByKey(\r\n      parseInt(priority),\r\n      this.getPrioritiesByKey(eventType)\r\n    );\r\n  }\r\n\r\n  getPrioritiesByKey(key: string): EventPrioritiesCollection {\r\n    let value: EventPrioritiesCollection;\r\n    if (this._listeners.hasOwnProperty(key)) {\r\n      value = this._listeners[key];\r\n    } else {\r\n      value = this._listeners[key] = {};\r\n    }\r\n    return value;\r\n  }\r\n\r\n  getListenersListByKey(priority: number, target: EventPrioritiesCollection): Array<EventListener> {\r\n    const key: string = String(priority);\r\n    let value: Array<EventListener>;\r\n    if (target.hasOwnProperty(key)) {\r\n      value = target[key];\r\n    } else {\r\n      value = target[key] = [];\r\n    }\r\n    return value;\r\n  }\r\n\r\n  add(eventType: string, handler: EventListener, priority: number) {\r\n    const handlers = this.createList(eventType, priority);\r\n    if (handlers.indexOf(handler) < 0) {\r\n      handlers.push(handler);\r\n    }\r\n  }\r\n\r\n  has(eventType: string): boolean {\r\n    let result = false;\r\n    const priorities = this.getPrioritiesByKey(eventType);\r\n    if (priorities) {\r\n      for (let priority in priorities) {\r\n        if (priorities.hasOwnProperty(priority)) {\r\n          result = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  remove(eventType: string, handler) {\r\n    const priorities = this.getPrioritiesByKey(eventType);\r\n    if (priorities) {\r\n      const list = Object.getOwnPropertyNames(priorities);\r\n      const length = list.length;\r\n      for (let index = 0; index < length; index++) {\r\n        const priority = list[index];\r\n        const handlers = priorities[priority];\r\n        const handlerIndex = handlers.indexOf(handler);\r\n        if (handlerIndex >= 0) {\r\n          handlers.splice(handlerIndex, 1);\r\n          if (!handlers.length) {\r\n            delete priorities[priority];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeAll(eventType: string) {\r\n    delete this._listeners[eventType];\r\n  }\r\n\r\n  call(event: EventObject, target: any) {\r\n    let _stopped = false;\r\n    let _immediatelyStopped = false;\r\n    const stopPropagation = () => {\r\n      _stopped = true;\r\n    };\r\n    const stopImmediatePropagation = () => {\r\n      _immediatelyStopped = true;\r\n    };\r\n    event.stopPropagation = stopPropagation;\r\n    event.stopImmediatePropagation = stopImmediatePropagation;\r\n    const priorities = this.getPrioritiesByKey(event.type, this._listeners);\r\n    if (priorities) {\r\n      // getOwnPropertyNames() or keys()?\r\n      const list: string[] = Object.getOwnPropertyNames(priorities).sort(\r\n        (a: any, b: any) => (a - b)\r\n      );\r\n      const length = list.length;\r\n      for (let index = 0; index < length; index++) {\r\n        if (_stopped) break;\r\n        const handlers: Array<EventListener> = priorities[list[index]];\r\n        const handlersLength = handlers.length;\r\n        for (let handlersIndex = 0; handlersIndex < handlersLength; handlersIndex++) {\r\n          if (_immediatelyStopped) break;\r\n          let handler: EventListener = handlers[handlersIndex];\r\n          // FIXME why \"handler\" sometimes undefined?\r\n          handler && handler.call(target, event);\r\n        }\r\n      }\r\n    }\r\n    delete event.stopPropagation;\r\n    delete event.stopImmediatePropagation;\r\n  }\r\n}\r\n\r\nexport class EventDispatcher {\r\n\r\n  _listeners: EventListeners;\r\n  _eventPreprocessor: EventProcessor;\r\n\r\n  constructor(eventPreprocessor: EventProcessor, noInit: boolean = false) {\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  initialize(eventPreprocessor: EventProcessor) {\r\n    this._eventPreprocessor = eventPreprocessor;\r\n    this._listeners = new EventListeners();\r\n  }\r\n\r\n  addEventListener(eventType: string, listener: EventListener, priority: number = 0) {\r\n    this._listeners.add(eventType, listener, -priority || 0);\r\n  }\r\n\r\n  hasEventListener(eventType: string) {\r\n    return this._listeners.has(eventType);\r\n  }\r\n\r\n  removeEventListener(eventType: string, listener: EventListener) {\r\n    this._listeners.remove(eventType, listener);\r\n  }\r\n\r\n  removeAllEventListeners(eventType: string) {\r\n    this._listeners.removeAll(eventType);\r\n  }\r\n\r\n  dispatchEvent(event: EventType, data: mixed) {\r\n    var eventObject = EventDispatcher.getEvent(event, data);\r\n    if (this._eventPreprocessor) {\r\n      eventObject = this._eventPreprocessor.call(this, eventObject);\r\n    }\r\n    this._listeners.call(eventObject);\r\n  }\r\n\r\n  static isObject(value: mixed) {\r\n    return (typeof value === 'object') && (value !== null);\r\n  }\r\n\r\n  static getEvent(eventOrType: EventType, optionalData: mixed): EventObject {\r\n    let event = eventOrType;\r\n    if (!EventDispatcher.isObject(eventOrType)) {\r\n      event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n    }\r\n    return (event:any);\r\n  }\r\n\r\n  static create(eventPreprocessor: EventProcessor) {\r\n    return new EventDispatcher(eventPreprocessor);\r\n  }\r\n\r\n  static Event: Class<Event>;\r\n}\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexport default EventDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/EventDispatcher.js","'use strict';\r\n\r\nimport EventDispatcher, { Event } from './EventDispatcher';\r\n\r\nexport default EventDispatcher;\r\nexport { EventDispatcher, Event };\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js"],"sourceRoot":""}