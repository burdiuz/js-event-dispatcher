{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///event-dispatcher.min.js","webpack:///webpack/bootstrap 756d1bc428259c6e1a11","webpack:///./source/index.js","webpack:///./source/EventDispatcher.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","Event","undefined","_EventDispatcher","_EventDispatcher2","obj","default","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","hasOwnProp","type","data","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","_this","index","immediatelyStopped","stopImmediatePropagation","event","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","eventType","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handler","handlers","createList","push","result","priorities","_this3","list","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","a","b","createRunner","run","EventDispatcher","eventPreprocessor","noInit","arguments","initialize","_eventPreprocessor","add","has","remove","removeAll","getEvent","eventOrType","optionalData","isObject"],"mappings":"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","file":"event-dispatcher.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventDispatcher\"] = factory();\n\telse\n\t\troot[\"EventDispatcher\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Event = undefined;\n\nvar _EventDispatcher = __webpack_require__(1);\n\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _EventDispatcher2.default;\nexports.Event = _EventDispatcher.Event;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar hasOwnProp = function hasOwnProp(target, name) {\n  return Object.prototype.hasOwnProperty.call(target, name);\n}; /**\n    * Created by Oleg Galaburda on 09.02.16.\n    * \n    */\n\nvar Event = exports.Event = function () {\n  function Event(type, data) {\n    _classCallCheck(this, Event);\n\n    this.type = type;\n    this.data = data || null;\n    this.defaultPrevented = false;\n  }\n\n  _createClass(Event, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return { type: this.type, data: this.data };\n    }\n  }, {\n    key: 'isDefaultPrevented',\n    value: function isDefaultPrevented() {\n      return this.defaultPrevented;\n    }\n  }, {\n    key: 'preventDefault',\n    value: function preventDefault() {\n      this.defaultPrevented = true;\n    }\n  }]);\n\n  return Event;\n}();\n\nvar ListenersRunner = function () {\n  function ListenersRunner(listeners, onStopped, onComplete) {\n    var _this = this;\n\n    _classCallCheck(this, ListenersRunner);\n\n    this.index = -1;\n    this.immediatelyStopped = false;\n\n    this.stopImmediatePropagation = function () {\n      _this.immediatelyStopped = true;\n    };\n\n    this.listeners = listeners;\n    this.onStopped = onStopped;\n    this.onComplete = onComplete;\n  }\n\n  _createClass(ListenersRunner, [{\n    key: 'run',\n    value: function run(event, target) {\n      var listener = void 0;\n      var listeners = this.listeners;\n\n      this.augmentEvent(event);\n      // TODO this has to be handled in separate object ListenersRunner that should be\n      // created for each call() call and asked for index validation on each listener remove.\n      for (this.index = 0; this.index < listeners.length; this.index++) {\n        if (this.immediatelyStopped) break;\n        listener = listeners[this.index];\n        listener.call(target, event);\n      }\n      this.clearEvent(event);\n      this.onComplete(this);\n    }\n  }, {\n    key: 'augmentEvent',\n    value: function augmentEvent(eventObject) {\n      var event = eventObject;\n      event.stopPropagation = this.onStopped;\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\n    }\n\n    /* eslint class-methods-use-this: \"off\" */\n\n  }, {\n    key: 'clearEvent',\n    value: function clearEvent(eventObject) {\n      var event = eventObject;\n      delete event.stopPropagation;\n      delete event.stopImmediatePropagation;\n    }\n  }, {\n    key: 'listenerRemoved',\n    value: function listenerRemoved(listeners, index) {\n      if (listeners === this.listeners && index <= this.index) {\n        this.index--;\n      }\n    }\n  }]);\n\n  return ListenersRunner;\n}();\n\nvar EventListeners = function () {\n  function EventListeners() {\n    var _this2 = this;\n\n    _classCallCheck(this, EventListeners);\n\n    this._listeners = {};\n    this._runners = [];\n\n    this.removeRunner = function (runner) {\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n    };\n  }\n  /**\n   * key - event Type\n   * value - hash of priorities\n   *    key - priority\n   *    value - list of handlers\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\n   * @private\n   */\n\n\n  _createClass(EventListeners, [{\n    key: 'createList',\n    value: function createList(eventType, priorityOpt) {\n      var priority = parseInt(priorityOpt, 10);\n      var target = this.getPrioritiesByKey(eventType);\n      var key = String(priority);\n      var value = void 0;\n      if (hasOwnProp(target, key)) {\n        value = target[key];\n      } else {\n        value = [];\n        target[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'getPrioritiesByKey',\n    value: function getPrioritiesByKey(key) {\n      var value = void 0;\n      if (hasOwnProp(this._listeners, key)) {\n        value = this._listeners[key];\n      } else {\n        value = {};\n        this._listeners[key] = value;\n      }\n      return value;\n    }\n  }, {\n    key: 'add',\n    value: function add(eventType, handler, priority) {\n      var handlers = this.createList(eventType, priority);\n      if (handlers.indexOf(handler) < 0) {\n        handlers.push(handler);\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(eventType) {\n      var priority = void 0;\n      var result = false;\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        for (priority in priorities) {\n          if (hasOwnProp(priorities, priority)) {\n            result = true;\n            break;\n          }\n        }\n      }\n      return result;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(eventType, handler) {\n      var _this3 = this;\n\n      var priorities = this.getPrioritiesByKey(eventType);\n      if (priorities) {\n        var list = Object.getOwnPropertyNames(priorities);\n        var length = list.length;\n\n        var _loop = function _loop(index) {\n          var priority = list[index];\n          var handlers = priorities[priority];\n          var handlerIndex = handlers.indexOf(handler);\n          if (handlerIndex >= 0) {\n            handlers.splice(handlerIndex, 1);\n            if (!handlers.length) {\n              delete priorities[priority];\n            }\n            _this3._runners.forEach(function (runner) {\n              runner.listenerRemoved(handlers, handlerIndex);\n            });\n          }\n        };\n\n        for (var index = 0; index < length; index++) {\n          _loop(index);\n        }\n      }\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll(eventType) {\n      delete this._listeners[eventType];\n    }\n  }, {\n    key: 'createRunner',\n    value: function createRunner(handlers, onStopped) {\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n      this._runners.push(runner);\n      return runner;\n    }\n  }, {\n    key: 'call',\n    value: function call(event, target) {\n      var priorities = this.getPrioritiesByKey(event.type);\n      var stopped = false;\n      var stopPropagation = function stopPropagation() {\n        stopped = true;\n      };\n      if (priorities) {\n        // getOwnPropertyNames() or keys()?\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n          return a - b;\n        });\n        var length = list.length;\n\n        for (var index = 0; index < length; index++) {\n          if (stopped) break;\n          var _handlers = priorities[list[index]];\n          // in case if all handlers of priority were removed while event\n          // was dispatched and handlers become undefined.\n          if (_handlers) {\n            var _runner = this.createRunner(_handlers, stopPropagation);\n            _runner.run(event, target);\n            if (_runner.immediatelyStopped) break;\n          }\n        }\n      }\n    }\n  }]);\n\n  return EventListeners;\n}();\n\nvar EventDispatcher = function () {\n  function EventDispatcher(eventPreprocessor) {\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, EventDispatcher);\n\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(EventDispatcher, [{\n    key: 'initialize',\n    value: function initialize(eventPreprocessor) {\n      this._eventPreprocessor = eventPreprocessor;\n      this._listeners = new EventListeners();\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(eventType, listener) {\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      this._listeners.add(eventType, listener, -priority || 0);\n    }\n  }, {\n    key: 'hasEventListener',\n    value: function hasEventListener(eventType) {\n      return this._listeners.has(eventType);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(eventType, listener) {\n      this._listeners.remove(eventType, listener);\n    }\n  }, {\n    key: 'removeAllEventListeners',\n    value: function removeAllEventListeners(eventType) {\n      this._listeners.removeAll(eventType);\n    }\n  }, {\n    key: 'dispatchEvent',\n    value: function dispatchEvent(event, data) {\n      var eventObject = EventDispatcher.getEvent(event, data);\n      if (this._eventPreprocessor) {\n        eventObject = this._eventPreprocessor.call(this, eventObject);\n      }\n      this._listeners.call(eventObject);\n    }\n  }], [{\n    key: 'isObject',\n    value: function isObject(value) {\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n    }\n  }, {\n    key: 'getEvent',\n    value: function getEvent(eventOrType, optionalData) {\n      var event = eventOrType;\n      if (!EventDispatcher.isObject(eventOrType)) {\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\n      }\n      return event;\n    }\n  }, {\n    key: 'create',\n    value: function create(eventPreprocessor) {\n      return new EventDispatcher(eventPreprocessor);\n    }\n\n    /* eslint no-undef: \"off\" */\n\n  }]);\n\n  return EventDispatcher;\n}();\n\nEventDispatcher.Event = Event;\n\nexports.default = EventDispatcher;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// event-dispatcher.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 756d1bc428259c6e1a11","import EventDispatcher, { Event } from './EventDispatcher';\n\nexport default EventDispatcher;\nexport { Event };\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\n * Created by Oleg Galaburda on 09.02.16.\n * @flow\n */\n\nimport type {\n  EventObject,\n  EventType,\n  EventListener,\n  EventProcessor,\n  IEvent,\n  IEventDispatcher,\n} from './TypeDefinition';\n\nconst hasOwnProp = (target: any, name: string): boolean => (\n  Object.prototype.hasOwnProperty.call(target, name)\n);\n\nexport class Event implements IEvent {\n\n  type: string;\n  data: mixed;\n  defaultPrevented: boolean;\n  stopPropagation: ?() => void;\n  stopImmediatePropagation: ?() => void;\n\n  constructor(type: string, data: mixed) {\n    this.type = type;\n    this.data = data || null;\n    this.defaultPrevented = false;\n  }\n\n  toJSON(): EventObject {\n    return { type: this.type, data: this.data };\n  }\n\n  isDefaultPrevented(): boolean {\n    return this.defaultPrevented;\n  }\n\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n}\n\ntype EventPrioritiesCollection = {\n  [priority: string]: Array<EventListener>;\n}\n\ntype EventTypesCollection = {\n  [eventType: string]: EventPrioritiesCollection;\n}\n\nclass ListenersRunner {\n  index: number = -1;\n  immediatelyStopped: boolean = false;\n  listeners: EventListener[];\n  onStopped: (runner: ListenersRunner) => void;\n  onComplete: (runner: ListenersRunner) => void;\n\n  constructor(\n    listeners: EventListener[],\n    onStopped: (runner: ListenersRunner) => void,\n    onComplete: (runner: ListenersRunner) => void,\n  ) {\n    this.listeners = listeners;\n    this.onStopped = onStopped;\n    this.onComplete = onComplete;\n  }\n\n  stopImmediatePropagation = () => {\n    this.immediatelyStopped = true;\n  };\n\n  run(event: EventObject, target: any) {\n    let listener: EventListener;\n    const { listeners } = this;\n    this.augmentEvent(event);\n    // TODO this has to be handled in separate object ListenersRunner that should be\n    // created for each call() call and asked for index validation on each listener remove.\n    for (this.index = 0; this.index < listeners.length; this.index++) {\n      if (this.immediatelyStopped) break;\n      listener = listeners[this.index];\n      listener.call(target, event);\n    }\n    this.clearEvent(event);\n    this.onComplete(this);\n  }\n\n  augmentEvent(eventObject: EventObject) {\n    const event: EventObject = eventObject;\n    event.stopPropagation = this.onStopped;\n    event.stopImmediatePropagation = this.stopImmediatePropagation;\n  }\n\n  /* eslint class-methods-use-this: \"off\" */\n  clearEvent(eventObject: EventObject) {\n    const event: EventObject = eventObject;\n    delete event.stopPropagation;\n    delete event.stopImmediatePropagation;\n  }\n\n  listenerRemoved(listeners: EventListener[], index: number) {\n    if (listeners === this.listeners && index <= this.index) {\n      this.index--;\n    }\n  }\n}\n\nclass EventListeners {\n  /**\n   * key - event Type\n   * value - hash of priorities\n   *    key - priority\n   *    value - list of handlers\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\n   * @private\n   */\n  _listeners: EventTypesCollection = {};\n  _runners: ListenersRunner[] = [];\n\n  createList(eventType: string, priorityOpt?: mixed): Array<EventListener> {\n    const priority: number = parseInt(priorityOpt, 10);\n    const target: EventPrioritiesCollection = this.getPrioritiesByKey(eventType);\n    const key: string = String(priority);\n    let value: Array<EventListener>;\n    if (hasOwnProp(target, key)) {\n      value = target[key];\n    } else {\n      value = [];\n      target[key] = value;\n    }\n    return value;\n  }\n\n  getPrioritiesByKey(key: string): EventPrioritiesCollection {\n    let value: EventPrioritiesCollection;\n    if (hasOwnProp(this._listeners, key)) {\n      value = this._listeners[key];\n    } else {\n      value = {};\n      this._listeners[key] = value;\n    }\n    return value;\n  }\n\n  add(eventType: string, handler: EventListener, priority: number) {\n    const handlers = this.createList(eventType, priority);\n    if (handlers.indexOf(handler) < 0) {\n      handlers.push(handler);\n    }\n  }\n\n  has(eventType: string): boolean {\n    let priority: string;\n    let result = false;\n    const priorities = this.getPrioritiesByKey(eventType);\n    if (priorities) {\n      for (priority in priorities) {\n        if (hasOwnProp(priorities, priority)) {\n          result = true;\n          break;\n        }\n      }\n    }\n    return result;\n  }\n\n  remove(eventType: string, handler) {\n    const priorities = this.getPrioritiesByKey(eventType);\n    if (priorities) {\n      const list = Object.getOwnPropertyNames(priorities);\n      const { length } = list;\n      for (let index = 0; index < length; index++) {\n        const priority = list[index];\n        const handlers = priorities[priority];\n        const handlerIndex = handlers.indexOf(handler);\n        if (handlerIndex >= 0) {\n          handlers.splice(handlerIndex, 1);\n          if (!handlers.length) {\n            delete priorities[priority];\n          }\n          this._runners.forEach((runner) => {\n            runner.listenerRemoved(handlers, handlerIndex);\n          });\n        }\n      }\n    }\n  }\n\n  removeAll(eventType: string) {\n    delete this._listeners[eventType];\n  }\n\n  createRunner(handlers, onStopped) {\n    const runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n    this._runners.push(runner);\n    return runner;\n  }\n\n  removeRunner = (runner) => {\n    this._runners.splice(this._runners.indexOf(runner), 1);\n  };\n\n  call(event: EventObject, target: any) {\n    const priorities = this.getPrioritiesByKey(event.type);\n    let stopped = false;\n    const stopPropagation = () => {\n      stopped = true;\n    };\n    if (priorities) {\n      // getOwnPropertyNames() or keys()?\n      const list: string[] = Object\n        .getOwnPropertyNames(priorities)\n        .sort((a: any, b: any) => (a - b));\n      const { length } = list;\n      for (let index = 0; index < length; index++) {\n        if (stopped) break;\n        const handlers: Array<EventListener> = priorities[list[index]];\n        // in case if all handlers of priority were removed while event\n        // was dispatched and handlers become undefined.\n        if (handlers) {\n          const runner = this.createRunner(handlers, stopPropagation);\n          runner.run(event, target);\n          if (runner.immediatelyStopped) break;\n        }\n      }\n    }\n  }\n}\n\nclass EventDispatcher implements IEventDispatcher {\n\n  _listeners: EventListeners;\n  _eventPreprocessor: EventProcessor;\n\n  constructor(eventPreprocessor: EventProcessor, noInit: boolean = false) {\n    if (!noInit) {\n      this.initialize(eventPreprocessor);\n    }\n  }\n\n  /**\n   * @private\n   */\n  initialize(eventPreprocessor: EventProcessor) {\n    this._eventPreprocessor = eventPreprocessor;\n    this._listeners = new EventListeners();\n  }\n\n  addEventListener(eventType: string, listener: EventListener, priority: number = 0) {\n    this._listeners.add(eventType, listener, -priority || 0);\n  }\n\n  hasEventListener(eventType: string) {\n    return this._listeners.has(eventType);\n  }\n\n  removeEventListener(eventType: string, listener: EventListener) {\n    this._listeners.remove(eventType, listener);\n  }\n\n  removeAllEventListeners(eventType: string) {\n    this._listeners.removeAll(eventType);\n  }\n\n  dispatchEvent(event: EventType, data: mixed) {\n    let eventObject = EventDispatcher.getEvent(event, data);\n    if (this._eventPreprocessor) {\n      eventObject = this._eventPreprocessor.call(this, eventObject);\n    }\n    this._listeners.call(eventObject);\n  }\n\n  static isObject(value: mixed) {\n    return (typeof value === 'object') && (value !== null);\n  }\n\n  static getEvent(eventOrType: EventType, optionalData: mixed): EventObject {\n    let event = eventOrType;\n    if (!EventDispatcher.isObject(eventOrType)) {\n      event = new EventDispatcher.Event(String(eventOrType), optionalData);\n    }\n    return (event: any);\n  }\n\n  static create(eventPreprocessor: EventProcessor) {\n    return new EventDispatcher(eventPreprocessor);\n  }\n\n  /* eslint no-undef: \"off\" */\n  static Event: Class<Event>;\n}\n\nEventDispatcher.Event = Event;\n\nexport default EventDispatcher;\n\n\n\n// WEBPACK FOOTER //\n// ./source/EventDispatcher.js"],"sourceRoot":""}